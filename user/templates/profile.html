{% extends "main.html" %} {% block content %}

<div class="container mt-5">
  <div class="row justify-content-center mb-4">
    <div class="col-md-8">
      <div class="card shadow-sm">
        <div class="card-body d-flex align-items-center">
          <div class="me-4">
            {% if user.profile and user.profile.image %}
            <img
              src="{{ user.profile.image.url }}"
              alt="Profile Picture"
              class="rounded-circle"
              style="width: 120px; height: 120px; object-fit: cover"
            />
            {% else %}
            <img
              src="https://via.placeholder.com/120"
              alt="Default Profile"
              class="rounded-circle"
              style="width: 120px; height: 120px; object-fit: cover"
            />
            {% endif %}
          </div>
          <div>
            <h4>{{user.username}}</h4>
            <p class="mb-1 text-muted">{{user.email}}</p>
            {% if user.profile.bio %}
            <p class="mb-0">{{user.profile.bio}}</p>
            {% endif %}
            <a class="btn btn-outline-primary btn-sm mt-3">Edit Profile</a>
            <a href="{% url 'signOut' %}" class="btn btn-outline-primary btn-sm mt-3"
              >Logout</a
            >
          </div>

        </div>
      </div>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h4 class="mb-3">All Blogs</h4>
      {% for blog in blogs %}
      <div class="card mb-3 shadow-sm">
        <div class="card-body">
          <h5>{{blog.title}}</h5>
          {% comment %} <p class="text-muted small">
            {{ blog.data_posted |truncatewords:30 }}
          </p> {% endcomment %}
          <p>{{blog.content|truncatewords:20}}</p>
          <div>
            <a href="{% url 'blog_detail' blog.id %}" class="btn btn-primary btn-sm">Read More</a>
            <a href="#" class="btn btn-primary btn-sm">Edit</a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

{% endblock content %}
